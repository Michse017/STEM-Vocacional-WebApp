warning: in the working copy of '.env.example', LF will be replaced by CRLF the next time Git touches it
warning: in the working copy of 'README.md', CRLF will be replaced by LF the next time Git touches it
[1mdiff --git a/.env.example b/.env.example[m
[1mindex 2aad970..cf161a1 100644[m
[1m--- a/.env.example[m
[1m+++ b/.env.example[m
[36m@@ -1,29 +1,43 @@[m
[31m-# Flask[m
[32m+[m[32m############################################################[m
[32m+[m[32m# STEM Vocational WebApp ‚Äì Example Environment File[m
[32m+[m[32m# Copy this to .env and replace placeholder values.[m
[32m+[m[32m# Never commit the real .env with secrets.[m
[32m+[m[32m############################################################[m
[32m+[m
[32m+[m[32m# Flask runtime[m
 FLASK_ENV=development[m
[31m-# Genera uno fuerte en producci√≥n[m
[32m+[m[32m# SECRET_KEY: generate a strong random value in your local .env.[m
[32m+[m[32m# Example (do NOT use this in production):[m
 SECRET_KEY=change_me_in_local[m
 [m
[31m-# CORS (frontend dev)[m
[32m+[m[32m# Frontend origin allowed for CORS during development[m
 FRONTEND_URL="http://localhost:3000"[m
 [m
[31m-# Base de datos (SQL Server)[m
[31m-# Ajusta estos valores a tu instancia[m
[31m-DB_SERVER=stemdb.database.windows.net[m
[31m-DB_DATABASE=StemDB[m
[31m-DB_USER=usuario@servidor[m
[31m-# Poner la contrase√±a real en .env (no aqu√≠)[m
[31m-DB_PASSWORD=[m
[31m-# Driver ODBC instalado en tu sistema (17 o 18)[m
[31m-DB_DRIVER={ODBC Driver 17 for SQL Server}[m
[32m+[m[32m# Database (SQL Server) connection settings ‚Äì provide your own values[m
[32m+[m[32mDB_SERVER=stemdb.database.windows.net        # Host or host.domain[m
[32m+[m[32mDB_DATABASE=StemDB                           # Database name[m
[32m+[m[32mDB_USER=username@server                      # For Azure SQL: user@servername[m
[32m+[m[32mDB_PASSWORD=                                 # Put the real password ONLY in your local .env[m
[32m+[m[32mDB_DRIVER={ODBC Driver 17 for SQL Server}    # Installed ODBC driver (17 or 18)[m
 DB_PORT=1433[m
 [m
[31m-# Cuestionarios din√°micos[m
[32m+[m[32m# Dynamic questionnaires feature: always enabled (no flag required)[m
[32m+[m
[32m+[m[32m# Admin JWT configuration[m
[32m+[m[32mJWT_EXPIRES_MIN=30          # Access token lifetime (minutes)[m
[32m+[m[32mJWT_REFRESH_DAYS=7          # Refresh token lifetime (days)[m
[32m+[m[32mJWT_REFRESH_ROTATE=1        # 1 = rotate refresh tokens, 0 = no rotation[m
[32m+[m
[32m+[m[32m# Optional test runner overrides[m
[32m+[m[32m# TEST_BASE_URL=http://127.0.0.1:5000[m
[32m+[m
[32m+[m[32m# Optional E2E admin test credentials (only for local testing; never commit real values)[m
[32m+[m[32m# E2E_ADMIN_CODE=admin_code_here[m
[32m+[m[32m# E2E_ADMIN_PASSWORD=admin_password_here[m
 [m
[31m-# JWT (admins)[m
[31m-JWT_EXPIRES_MIN=30[m
[31m-JWT_REFRESH_DAYS=7[m
[31m-JWT_REFRESH_ROTATE=1[m
[32m+[m[32m# ML model binding: no env vars required by default (artifact path set in metadata)[m
 [m
[31m-# Compatibilidad temporal con header compartido[m
[31m-# Mantener 0 por defecto; en producci√≥n, usar solo JWT[m
[31m-# Si activas el fallback, define la clave en .env privado[m
[32m+[m[32m# IMPORTANT:[m
[32m+[m[32m# 1. Do NOT commit the real .env file.[m
[32m+[m[32m# 2. Keep secrets (SECRET_KEY, DB_PASSWORD) out of version control (use CI/CD secrets).[m
[32m+[m[32m# 3. If adding new env keys, document them in README and RUN.md.[m
[1mdiff --git a/README.md b/README.md[m
[1mindex aa1c378..bace669 100644[m
[1m--- a/README.md[m
[1m+++ b/README.md[m
[36m@@ -29,22 +29,35 @@[m [mThis README gives a practical overview. For operational steps and technical comm[m
 [m
 ## Quick Start (local)[m
 [m
[31m-1) Requirements: Python 3.11+, Node.js 18+, ODBC Driver 17/18, and an accessible SQL Server.[m
[31m-2) Install dependencies:[m
[32m+[m[32m1) Requirements: Python 3.11+ (tested on 3.12.8), Node.js 18+, ODBC Driver 17 or 18, and an accessible SQL Server instance.[m
[32m+[m[32m2) (Optional but recommended) Create and activate a virtual environment:[m
[32m+[m
[32m+[m[32m```powershell[m
[32m+[m[32mpython -m venv .venv[m
[32m+[m[32m./.venv/Scripts/Activate.ps1[m
[32m+[m[32m```[m
[32m+[m
[32m+[m[32m3) Install dependencies:[m
 [m
 ```powershell[m
 pip install -r requirements.txt[m
 cd frontend; npm install; cd ..[m
 ```[m
 [m
[31m-3) Create a `.env` from `.env.example` (do not commit it).[m
[31m-4) Seed base content:[m
[32m+[m[32m4) Create a `.env` from `.env.example` (do not commit it). Fill in DB credentials and a strong `SECRET_KEY`.[m
[32m+[m[32m5) Seed base questionnaire/content:[m
 [m
 ```powershell[m
 python manage.py seed-dynamic[m
 ```[m
 [m
[31m-5) Start backend + frontend:[m
[32m+[m[32m6) (Optional) Create an admin user for local testing:[m
[32m+[m
[32m+[m[32m```powershell[m
[32m+[m[32mpython manage.py add-admin my_admin_code --password MySecurePass123[m
[32m+[m[32m```[m
[32m+[m
[32m+[m[32m7) Start backend + frontend:[m
 [m
 ```powershell[m
 python manage.py run-public-full[m
[36m@@ -52,6 +65,18 @@[m [mpython manage.py run-public-full[m
 [m
 Backend: http://localhost:5000  |  Frontend: http://localhost:3000  |  Health: http://localhost:5000/api/health[m
 [m
[32m+[m[32m8) (Optional) Run tests once the backend is up:[m
[32m+[m
[32m+[m[32m```powershell[m
[32m+[m[32mpython run_tests.py[m
[32m+[m[32m```[m
[32m+[m
[32m+[m[32m9) (Optional) Recompute ML results for existing finalized responses if you later change the model binding:[m
[32m+[m
[32m+[m[32m```powershell[m
[32m+[m[32mpython manage.py recompute-ml --code vocacional --only-finalized --dry-run[m
[32m+[m[32m```[m
[32m+[m
 ## Usage (flows)[m
 [m
 - Student[m
[36m@@ -139,8 +164,9 @@[m [mWizard endpoints:[m
 [m
 ### Where to place the model artifact (.joblib)[m
 [m
[31m-- Recommended: create a `models/` folder at the repo root and place the file there, e.g. `models/model.joblib`. In the binding use `"artifact_path": "models/model.joblib"`.[m
[32m+[m[32m- Recommended: create a `models/` folder at the repo root and place the file there, e.g. `models/model.joblib` then reference it in the binding.[m
 - Alternative: `backend/models/...` also works. The loader will search by basename in `models/` and `backend/models/` if the primary relative path does not exist.[m
[32m+[m[32m- After updating a binding or artifact you can recompute historical summaries with `python manage.py recompute-ml --version-id <ID> --only-finalized`.[m
 - Environments: you may use an env var with `artifact_path: "env:ML_ARTIFACT_PATH"` and define `ML_ARTIFACT_PATH` to an absolute path in the server.[m
 [m
 Notes:[m
